<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="../css/homepage.css">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Bootstrap CSS -->
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
  integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
  crossorigin="anonymous"
/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>

<h2>Project Name</h2>
<div class="container">
  <div id="renderingText" class="row">
  </div>
</div>

<!--
<button class="accordion">Publication 1</button>
<div class="panel">
  <a href="#">Text 1</a> <br />
  <a href="#">Text 2</a> <br />
  <a href="#">Text 3</a> <br />
</div>

<button class="accordion">Publication 2</button>
<div class="panel">
    <a href="#">Text 1</a> <br />
    <a href="#">Text 2</a> <br />
    <a href="#">Text 3</a> <br />
</div>

<button class="accordion">Publication 3</button>
<div class="panel">
    <a href="#">Text 1</a> <br />
    <a href="#">Text 2</a> <br />
    <a href="#">Text 3</a> <br />
</div>

-->

<!--Bootstrap and ajax import-->
<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<script>
  /*
var acc = document.getElementsByClassName("accordion");
var i;

for (i = 0; i < acc.length; i++) {
  acc[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var panel = this.nextElementSibling;
    if (panel.style.display === "block") {
      panel.style.display = "none";
    } else {
      panel.style.display = "block";
    }
  });
}*/
</script>
<script>
$(document).ready(main);

    function main() {
      $.ajax({
        method: 'GET',
        url: '../publications.json',
        success: function(d) {
          for (var i=0; i<d.length; i++) {
            var li = "<div class='col'><a href=" + d[i].url + ">"+d[i].label + "</a><div id=publications" + i +"></div></div>"
            $('#renderingText').append(li)
          }	
        },
        error: function() {
          alert('No publication to show')
        }
      });

      $.ajax({
        method: 'GET',
        url: '../texts.json',
        success: function(d) {
          for (var i=0; i<d.length; i++) {
            for (var j=0; j<d.length; j++){
              var li = "<a class='row' href=" + d[j].url  + ">"+d[j].label + "</a>"
            $('#publications' + i).append(li)
            }
          }	
        },
        error: function() {
          alert('No text to show')
        }
      });
    }
</script>

</body>
</html>
